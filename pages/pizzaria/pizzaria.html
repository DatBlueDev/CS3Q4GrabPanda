<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <title>Grab Panda</title>
        <style>
            body{
                font-family:arial;
                margin:0;
                padding:0;
                overflow-x: hidden;
                background: no-repeat gray fixed url('../../images/background.png');
                background-size:cover;
            }
            header {
                background-color: white;
            }
            #mainContainer {
                background-color: aliceblue;
                border-radius: 35px;
                overflow:hidden ;
            }
            #restaurantBanner {
                width: 100%;
                opacity: 80%;
            }
            #mainMenuAndForm {
                display: flex;
                flex-direction: row;
                justify-content: space-around ;
            }
            #mainMenu {
                width: 60%;
            }
            #orderForm {
                width: 30%;
            }
            .orderCard {
                overflow: hidden; 
                width: 100%; 
                margin-left: 6%;
                height: 200px;
            }
            .listItem {
                display: flex;
                justify-content: space-between;
                align-items:center ;
            }
            #notActuallyACard {
                border-right-width: 0px;
                border-top-width: 0px;
                border-left-width: 0px;
                border-bottom-width: 0px;
            }
            .card-img-overlay {
                background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(240, 248, 255, 1));;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                padding-left: 2%;
            }
            .card-img-overlay h1{
                font-size: 300%
            }
            .cardImg {
                height:110%;
                object-fit:fill;
            }
            hr {
                margin-top: 0%;
            }
            .card-title {
                font-weight: bold;
            }
            header a img {
                margin-top: 20px;
                padding-bottom:20px;
                height:90px;
                transition: all ease 0.25s;
            }
            #headerLogo :hover{
                opacity: 60%;
            }
        </style>
    </head>
    <body>
        <header style ="text-align: center;" class="mb-5">
            <a id="headerLogo" href="../../index.html"><img src="../../images/logo.png"></a>
        </header>
        <div class="container mb-5">
            <div id="mainContainer">
                <div class="card mb-3" id="notActuallyACard">
                    <img id = "restaurantBanner" src="../../images/fLogo.png" class="card-img" style="height: 30vh; object-fit: cover;">
                    <div class="card-img-overlay">
                        <h1 class="card-title" id="restoName">Freddy Fazbear's Pizzaria - Undisclosed Location</h1>
                    </div>
                </div>
                
                <div id="mainMenuAndForm" class="mb-3">
                    <div id="mainMenu">
                        <h1 class="mb-3">Chicken</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Chicken/6pcwingB.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Wings 6pc w/ Ketchup</h5>
                                  <p class="card-text">6 pieces of Chicken Wings w/ Ketchup</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 300</small></p>
                                  <button onclick="addToMenu({orderID: 1, foodname: 'Wings 6pc w/ Ketchup', foodprice: 300 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Chicken/6pcwingM.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Wings 6pc w/ Mayo</h5>
                                  <p class="card-text">6 pieces of Chicken Wings w/ Mayo</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 300</small></p>
                                  <button onclick="addToMenu({orderID: 2, foodname: 'Wings 6pc w/ Mayo', foodprice: 300 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Chicken/6pcwingQ.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Wings 6pc w/ BBQ Sauce</h5>
                                  <p class="card-text">6 pieces of Chicken Wings w/ BBQ Sauce</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 300</small></p>
                                  <button onclick="addToMenu({orderID: 3, foodname: 'Wings 6pc w/ BBQ Sauce', foodprice: 300 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images//Pizzeria/Chicken/10pcwing.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Wings 10pc</h5>
                                  <p class="card-text">10 pieces of Chicken Wings</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 500</small></p>
                                  <button onclick="addToMenu({orderID: 4, foodname: 'Wings 10pc', foodprice: 500 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Chicken/chickennuggets.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Chicken Nuggets</h5>
                                  <p class="card-text">12 pieces of Chicken Nuggets</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 250</small></p>
                                  <button onclick="addToMenu({orderID: 5, foodname: 'Chicken Nuggets', foodprice: 250 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Chicken/wedges.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Wedges</h5>
                                  <p class="card-text">Potato wedges with chicken nuggets</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 350</small></p>
                                  <button onclick="addToMenu({orderID: 6, foodname: 'Wedges', foodprice: 350 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <h1 class="mb-3">Pizza</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/5cheese.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">5 Cheese Pizza</h5>
                                  <p class="card-text">A Classic Pizza with a twist. What could the 5th cheese be?</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 400</small></p>
                                  <button onclick="addToMenu({orderID: 7, foodname: '5 Cheese Pizza', foodprice: 400 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/hawaiian.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Hawaiian Pizza</h5>
                                  <p class="card-text">A classic, controversial, good pick.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 400</small></p>
                                  <button onclick="addToMenu({orderID: 8, foodname: 'Hawaiian Pizza', foodprice: 400 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/pepperoni.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Pepperoni Pizza</h5>
                                  <p class="card-text">The old reliable; The classic; The go-to.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 400</small></p>
                                  <button onclick="addToMenu({orderID: 9, foodname: 'Pepperoni Pizza', foodprice: 400 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/deluxe.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Deluxe Pizza</h5>
                                  <p class="card-text">For those extra special parties for that extra special someone.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 420</small></p>
                                  <button onclick="addToMenu({orderID: 10, foodname: 'Deluxe Pizza', foodprice: 420 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/hamcheese.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Ham and Cheese Pizza</h5>
                                  <p class="card-text">The Hawaiian, no pineapple.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 420</small></p>
                                  <button onclick="addToMenu({orderID: 11, foodname: 'Ham and Cheese Pizza', foodprice: 420 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Pizza/spinach.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Spinach Pizza</h5>
                                  <p class="card-text">Tastes better than it sounds.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 420</small></p>
                                  <button onclick="addToMenu({orderID: 12, foodname: 'Spinach Pizza', foodprice: 420 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <h1 class="mb-3">Soda</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/coke.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Coke</h5>
                                  <p class="card-text">coke.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 50</small></p>
                                  <button onclick="addToMenu({orderID: 13, foodname: 'Coffee', foodprice: 50 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/cokeL.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Coke (1L)</h5>
                                  <p class="card-text">Bigger coke.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 100</small></p>
                                  <button onclick="addToMenu({orderID: 14, foodname: 'Coke', foodprice: 100 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/cokezero.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Coke Zero</h5>
                                  <p class="card-text">Personally, I like the taste of this one better than classic.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 65</small></p>
                                  <button onclick="addToMenu({orderID: 15, foodname: 'Dr. Pepper', foodprice: 50 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/sprite.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Sprite</h5>
                                  <p class="card-text">sprite.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 50</small></p>
                                  <button onclick="addToMenu({orderID: 16, foodname: '8pc Grilled Chicken Nuggets', foodprice: 50 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/spriteL.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Sprite (1L)</h5>
                                  <p class="card-text">Bigger sprite.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 100</small></p>
                                  <button onclick="addToMenu({orderID: 17, foodname: '5pc Chicken Nuggets', foodprice: 100 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Pizzeria/Drinks/minutemaid.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Minute Maid</h5>
                                  <p class="card-text">Sorta kinda orange juice?</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 45</small></p>
                                  <button onclick="addToMenu({orderID: 18, foodname: 'Minute Maid', foodprice: 45 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div id="orderForm">
                        <div id = "orderContainer" class="container">
                            <div class="h1">
                                Cart
                            </div>
                            <div id = "orderList">
                            </div>
                            <hr>
                            <div id="SumOfOrders" class="mb-2">Total: ₱0</div>
                            <form action="http://sirjm.infinityfreeapp.com/aa2receiver.php">
                                <div class="mb-3">
                                    <label for="custname" class="form-label">Customer Name</label>
                                    <input class="form-control" type="text" id="custname" name="custname" placeholder="First Name M.I. Last Name">
                                </div>
                                <div class="mb-3">
                                    <label for="deliveryaddr" class="form-label">Delivery Addres</label>
                                    <input class="form-control" type="text" id="deliveryaddr" name="deliveryaddr" placeholder="308, Negro Arroyo Lane, Albuquerque, New Mexico">
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label" for="addrtype">Address Type:</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="Business" value="Business" name="addrtype">
                                        <label class="form-check-label" for="Home">Home</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="Business" value="Business" name="addrtype">
                                        <label class="form-check-label" for="Business">Business</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <input class="form-control" type="hidden" id="foodcart" name="foodcart" >
                                </div>
            
                                <div class="mb-3">
                                    <input class="form-control" type="hidden" id="restoname" name="restoname" >
                                </div>
                                
                                <input class="btn btn-success" type="submit" value="Submit">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            //var orderListHTML = document.getElementById("orderList");
            //var foodcartHTML = document.getElementById("foodcart");
            //var restaurantNameHTML = document.getElementById("restoname");

//            var chickenPriceHTML = document.getElementById("chickenPrice");
  //          var spaghettiPriceHTML = document.getElementById("spaghettiPrice");
    //        var CheeseburgerPriceHTML = document.getElementById("CheeseburgerPrice");
      //      var pizzaPriceHTML = document.getElementById("pizzaPrice");
//
  //          restaurantNameHTML.value = "theBurgerKing";
    //        var sumOfItems = 0;
      //      var foodItems = [];
//
  //          var orderList = {};
    //        function addToMenuAAAAAAAAAA(orderItem){
      //          orderListHTML.innerHTML="";
        //        foodItems.push(orderItem);
          //      foodcartHTML.value = JSON.stringify(foodItems);
//
  //              for (var i = 0; i<= foodItems.length-1; i++){
    //                orderListHTML.innerHTML += "<div class='mb-2 listItem'> ₱" + foodItems[i].foodprice + " " + foodItems[i].foodname + " " + "<button onclick='removeFromMenu()' class='btn btn-danger'>Remove</button></div>";
      //              orderListHTML.innerHTML += "<hr>"
        //        }
          //      
            //    for (var i = 0; i<= foodItems.length-1; i++){
              //      foodItems[i].foodprice
                //}
            //}
        </script>
        <script>
            var orderListHTML = document.getElementById("orderList");
            var foodcartHTML = document.getElementById("foodcart");
            var restaurantNameHTML = document.getElementById("restoname");
            var SumOfOrders = document.getElementById("SumOfOrders");

            var chickenPriceHTML = document.getElementById("chickenPrice");
            var spaghettiPriceHTML = document.getElementById("spaghettiPrice");
            var CheeseburgerPriceHTML = document.getElementById("CheeseburgerPrice");
            var pizzaPriceHTML = document.getElementById("pizzaPrice");

            restaurantNameHTML.value = "theBurgerKing";
            var sumOfItems = 0;
            var foodItems = [];

            var orderedList = [];
            var OrdersAmount = [];
            var d = 0;

            function addToMenu(orderItem){

                if (!(orderedList.includes(orderItem.orderID) )){
                    console.log("added to list");
                    orderedList.push(orderItem.orderID);
                    OrdersAmount[orderItem.orderID] = 1; 
                    orderListHTML.innerHTML += "<div id ='Order" + orderItem.orderID + "' class='mb-2 listItem'>" + orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" +"<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>"+ "</div>";

                }
                else {
                    OrdersAmount[orderItem.orderID] +=1;

                    let a = document.getElementById(("Order" + orderItem.orderID));
                    a.innerHTML = orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" + "<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>";

                }
                console.log(OrdersAmount[orderItem.orderID]);

                foodItems.push(orderItem);
                foodcartHTML.value = JSON.stringify(foodItems);

                d += orderItem.foodprice
                SumOfOrders.innerHTML = "Total: ₱" + d;
            }

            function removeFromMenu(orderItem){
                console.log(orderItem);
                OrdersAmount[orderItem.orderID] -=1;
                let a = document.getElementById(("Order" + orderItem.orderID));
                var removethesestuffidkanymorelmao = [];
                for (var i = 0; i < foodItems.length; i++){
                    if(foodItems[i].orderID == orderItem.orderID){
                        removethesestuffidkanymorelmao.push(i);
                    }
                }
                console.log(removethesestuffidkanymorelmao);

                if (OrdersAmount[orderItem.orderID] > 0 ){
                    a.innerHTML = orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" + "<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>";
                    foodItems.splice(removethesestuffidkanymorelmao[0], 1);
                    
                }
                else{
                    var index = orderedList.indexOf(orderItem.orderID);
                    orderedList.splice(index, 1);
                    
  
                    foodItems.splice(removethesestuffidkanymorelmao[0], 1);
                    

                    a.remove();
                }
                foodcartHTML.value = JSON.stringify(foodItems);

                d -= orderItem.foodprice
                SumOfOrders.innerHTML = "Total: ₱" + d;
            } 
        </script>
    </body>
</html>